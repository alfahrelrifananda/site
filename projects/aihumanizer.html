<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Humanizer</title>
    <link rel="icon" href="data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
      <rect width='100%' height='100%' fill='%23ffffff'/>
      <text x='50%' y='50%' font-family='Arial, sans-serif' font-weight='700' font-size='36'
            fill='%23000000' dominant-baseline='middle' text-anchor='middle'>AR</text>
    </svg>">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <h1>AI Humanizer</h1>
    <hr>
    
    <h3>Input Text:</h3>
    <textarea id="inputText" rows="10" cols="80" placeholder="Paste your AI-generated text here..."></textarea>
    
    <br><br>
    
    <button onclick="humanizeText()">Humanize Text</button>
    
    <br><br>
    
    <div id="loading" style="display:none;">
        <p><strong>Processing... Please wait</strong></p>
    </div>
    
    <hr>
    
    <h3>Humanized Output:</h3>
    <textarea id="outputText" rows="10" cols="80" readonly></textarea>
    
    <br><br>
    
    <button onclick="copyOutput()">Copy Output</button>

    <h3>You can test it here:</h3>
    <a href="https://www.zerogpt.com/">https://www.zerogpt.com/</a>
    <br>
    <a href="https://quillbot.com/ai-content-detector">https://quillbot.com/ai-content-detector</a>
    
    <script>
        const GEMINI_API_KEY = 'AIzaSyCtL9XJRN0weFxMEZ5T94MhkYOif8_QgQc';

        async function humanizeText() {
            const inputText = document.getElementById('inputText').value.trim();
            
            if (inputText === '') {
                alert('Please enter text to humanize');
                return;
            }
            
            document.getElementById('loading').style.display = 'block';
            document.getElementById('outputText').value = '';
	    const prompt = `Rewrite this text to sound natural and human-written. Keep it SHORT and SIMPLE.

CRITICAL RULES:
- Use the SAME LANGUAGE as input
- Keep the SAME LENGTH or SHORTER than the original
- NO markdown formatting (no *, bold, italics)
- Don't add extra explanations or examples beyond what's in the original
- Don't expand on ideas - keep it concise

STYLE:
- For Indonesian: Use natural phrases like "kalau dilihat dari", "sebagai contoh", "selain itu", "yang penting"
- For English: Use "looking at this", "for example", "also", "what's important"
- Sound like someone explaining briefly
- Keep technical terms as-is
- Remove robotic phrases: "dapat diterapkan", "perlu dihindari", "dengan demikian"

IMPORTANT - DO NOT:
- Make it longer than the original
- Over-explain simple concepts
- Add extra details or elaborations
- Turn short text into paragraphs
- Add introductory or concluding fluff

Text to rewrite:

${inputText}

Output ONLY the rewritten text. Keep it brief and to the point. Plain text only.`;


		try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    alert('API Error: ' + data.error.message);
                    document.getElementById('loading').style.display = 'none';
                    return;
                }
                
                if (data.candidates && data.candidates[0]) {
                    const humanizedText = data.candidates[0].content.parts[0].text;
                    document.getElementById('outputText').value = humanizedText;
                } else {
                    alert('No response received from API');
                }
                
            } catch (error) {
                alert('Error: ' + error.message);
                console.error('Error:', error);
            }
            
            document.getElementById('loading').style.display = 'none';
        }

        function copyOutput() {
            const output = document.getElementById('outputText');
            output.select();
            document.execCommand('copy');
            alert('Output copied to clipboard!');
        }
    </script>
</body>
</html>
