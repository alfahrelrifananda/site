<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Humanizer</title>
    <link rel="icon" href="data:image/svg+xml;utf8,
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
      <rect width='100%' height='100%' fill='%23ffffff'/>
      <text x='50%' y='50%' font-family='Arial, sans-serif' font-weight='700' font-size='36'
            fill='%23000000' dominant-baseline='middle' text-anchor='middle'>AR</text>
    </svg>">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <h1>AI Humanizer</h1>
    <hr>
    
    <h3>Input Text:</h3>
    <textarea id="inputText" rows="10" cols="80" placeholder="Paste your AI-generated text here..."></textarea>
    
    <br><br>
    
    <button onclick="humanizeText()">Humanize Text</button>
    
    <br><br>
    
    <div id="loading" style="display:none;">
        <p><strong>Processing... Please wait</strong></p>
    </div>
    
    <hr>
    
    <h3>Humanized Output:</h3>
    <textarea id="outputText" rows="10" cols="80" readonly></textarea>
    
    <br><br>
    
    <button onclick="copyOutput()">Copy Output</button>
    
    <script>
        const GEMINI_API_KEY = 'AIzaSyCejjac3Q35K5UVnHcrQ6tY1WPl2KYj26c';

        async function humanizeText() {
            const inputText = document.getElementById('inputText').value.trim();
            
            if (inputText === '') {
                alert('Please enter text to humanize');
                return;
            }
            
            document.getElementById('loading').style.display = 'block';
            document.getElementById('outputText').value = '';
		
            const prompt = `Rewrite this text to sound like it was written by a human expert, not AI. Keep it concise and professional.

CRITICAL RULES:
- Use the SAME LANGUAGE as input
- Keep SIMILAR LENGTH or SHORTER than the original
- NO markdown formatting (no *, bold, italics, numbered lists in prose)
- NO casual language - keep it professional and formal
- Sound like an expert writing naturally, not a textbook

FOR INDONESIAN - USE FORMAL WORDS:
Replace casual words with formal equivalents:
- "kalau" = "jika" or "apabila"
- "lewat" = "melalui"
- "pakai/memakai" = "menggunakan"
- "biar" = "agar" or "supaya"
- "gimana" = "bagaimana"
- "nggak/tidak" = stay as "tidak" (formal)
- "seperti" = keep as "seperti" (already formal)

REMOVE THESE AI PATTERNS:
- Starting sentences with "Ketika", "Saat", "Setelah" repeatedly
- Using "bertanggung jawab", "berfungsi sebagai", "mencakup" robotically
- Phrases like "secara keseluruhan", "pada dasarnya", "dengan demikian"
- Perfect parallel structure in lists
- Overly explanatory parentheses

WRITE LIKE A HUMAN EXPERT:
- Vary sentence starters naturally
- Mix sentence lengths (short and long)
- Use active voice more often
- Don't over-explain every detail
- Sound confident and knowledgeable, not cautious
- Break some "perfect" grammar patterns naturally

FOR ENGLISH:
- Replace "when", "while", "after" at sentence starts if repetitive
- Avoid "is responsible for", "functions as", "includes"
- Remove hedging: "generally", "typically", "usually"
- Sound direct and clear

Text to rewrite:

${inputText}

Output the rewritten text only. Keep it professional, natural, and concise. Plain text.`;


            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    alert('API Error: ' + data.error.message);
                    document.getElementById('loading').style.display = 'none';
                    return;
                }
                
                if (data.candidates && data.candidates[0]) {
                    const humanizedText = data.candidates[0].content.parts[0].text;
                    document.getElementById('outputText').value = humanizedText;
                } else {
                    alert('No response received from API');
                }
                
            } catch (error) {
                alert('Error: ' + error.message);
                console.error('Error:', error);
            }
            
            document.getElementById('loading').style.display = 'none';
        }

        function copyOutput() {
            const output = document.getElementById('outputText');
            output.select();
            document.execCommand('copy');
            alert('Output copied to clipboard!');
        }
    </script>
</body>
</html>
